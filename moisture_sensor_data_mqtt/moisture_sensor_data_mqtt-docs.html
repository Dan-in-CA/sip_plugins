<!DOCTYPE HTML>
<!-- Auto genwerated using markdown2 README.md --extras tables > moisture_sensor_data_mqtt-docs.html -->
<html>
<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset="utf-8">
  <title>Moisture Sensor Data MQTT Docs</TITLE>
</head>
<body lang="en-us" bgcolor="#ffffff" dir="LTR" style="border: none; padding: 0in">
<h1>Moisture Sensor Data MQTT</h1>

<h2>Introduction</h2>

<p>The Moisture Sensor Data MQTT plugin subscribes to moisture sensor
readings sent to an MQTT topic and makes the readings available to the
Moisture Sensor Control plugin.</p>

<h2>Dependencies</h2>

<p>This plugin requires the MQTT plugin to be installed.</p>

<h2>Configuring</h2>

<table>
<thead>
<tr>
  <th style="text-align:left;">Field</th>
  <th style="text-align:left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td style="text-align:left;">Enable</td>
  <td style="text-align:left;">Enable or disable receiving data for the sensor.</td>
</tr>
<tr>
  <td style="text-align:left;">Sensor (required)</td>
  <td style="text-align:left;">The internal name of the sensor.</td>
</tr>
<tr>
  <td style="text-align:left;">MQTT topic (required)</td>
  <td style="text-align:left;">The MQTT topic that the sensor sends its data to.</td>
</tr>
<tr>
  <td style="text-align:left;">Reading path (optional)</td>
  <td style="text-align:left;">The JSON path of the reading value if required. See below</td>
</tr>
<tr>
  <td style="text-align:left;">Driest value (required)</td>
  <td style="text-align:left;">The raw driest value the sensor can send.</td>
</tr>
<tr>
  <td style="text-align:left;">Wettest value (required)</td>
  <td style="text-align:left;">The raw wettest vale the sensor can send.</td>
</tr>
<tr>
  <td style="text-align:left;">Retention period(optional)</td>
  <td style="text-align:left;">The amount of time readings will be saved. Not implemented yet.</td>
</tr>
</tbody>
</table>

<p>If a required attribute is not set the plugin will quietly skip sensor.</p>

<h2>Sensor</h2>

<p>Sensor names can be renamed by changing the name of the sensor
field. Sensors can be deleted by blanking out the name in the sensor
field.</p>

<h2>Reading path</h2>

<p>When sensor reading value is published as a JSON message as opposed to
a simple value specify the JSON path of the reading value using a
<a href="https://jmespath.org/tutorial.html">jmespath expression</a>.</p>

<p>For example if the message is {"value1", "57", "battery": 27}, then
the reading path would need to be set to value1.</p>

<h2>Driest / wettest value</h2>

<p>The plugin will convert the raw sensor reading values to a percentage
value (0 - 100%) using the configured driest and wettest values.</p>
</body>
</html>
